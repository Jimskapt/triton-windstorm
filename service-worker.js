const APP_NAME="triton-windstorm",CACHE_VERSION="1.13.4",CACHE_PREFIX=APP_NAME+"-1.13.4",CONTENT_TO_CACHE=["./","./index.html","./index.css","./pkg/package.js","./pkg/package_bg.wasm","./icons/icon-32.png"];self.addEventListener("install",(function(e){console.log("service-worker","install"),e.waitUntil(async function(){const e=await caches.open(CACHE_PREFIX);console.log("service-worker","install",CACHE_PREFIX,CONTENT_TO_CACHE),await e.addAll(CONTENT_TO_CACHE)}())})),self.addEventListener("activate",(function(e){console.log("service-worker","activate"),e.waitUntil(caches.keys().then((function(e){return Promise.all(e.map((function(e){return e===CACHE_PREFIX?void console.log("service-worker","activate","keep",e):(console.log("service-worker","activate","delete",e),caches.delete(e))})))})))})),self.addEventListener("fetch",(function(e){const o=e.request;console.log("service-worker","fetch",o.method,o.url),e.respondWith(async function(){const e=await caches.match(o);if(e)return console.log("service-worker","fetch",o.method,o.url,"found in cache"),e;{console.log("service-worker","fetch",o.method,o.url,"not found in cache");const e=await fetch(o),c=function(){const o=e.headers.get("Cache-Control");return null!=o?o.trim().toLowerCase():""}();if("HEAD"!==o.method.toUpperCase()&&"no-cache"!==c){const t=await caches.open(CACHE_PREFIX);console.log("service-worker","fetch","caching",o.method,o.url,"Cache-Control : "+c),t.put(o,e.clone())}else console.log("service-worker","fetch","no caching",o.method,o.url,"Cache-Control : "+c);return e}}())}));
